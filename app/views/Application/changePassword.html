#{extends 'main.html' /}


<script>

$( document ).ready(function() {
	
	$('#passwordMatchError').hide();
});

function changePassword()
{
	if($('#newPasswordRetry').val() != $('#newPassword').val())	
		$('#passwordMatchError').show();
	else
		$('#passwordForm').submit();
}

</script>


<div class="container">
 <div class="row">
   
   <div class="col-xs-12">
		<h3>&{'secure.change-password'}</h3>
		<p>&{'user-mgmt.change-password-prompt'}</p>	
			
		<form method="POST" action="@{Application.changePassword()}" id="passwordForm">
		
			<div class="form-group">
			    <label for="currentPassword">&{'user-mgmt.current-password'}</label>
			    <input type="password" class="form-control" name="currentPassword" id="currentPassword" value="" />
				#{if badPassword}<div class="alert alert-danger"><strong>&{'user-mgmt.password-incorrect'}</strong></div>#{/if}
			</div>
		
			<div class="form-group">
			    <label for="newPassword">&{'user-mgmt.new-password'}</label>
				<input type="password" class="form-control" name="newPassword" id="newPassword" value="" />
			</div>
		
			<div class="form-group">
			    <label for="newPasswordRetry">&{'user-mgmt.new-password-again'}</label>
				<input type="password" class="form-control"  name="newPasswordRetry" id="newPasswordRetry" value="" />
				<div id="passwordMatchError" class="alert alert-danger"><strong>&{'user-mgmt.passwords-dont-match'}</strong></div>
			</div>
			
			<div class="form-group">
				<a class="btn btn-primary" onclick="changePassword();">&{'shared.button.change'}</a>	
			</div>
			
			
		</form>
		</div>
	</div>
</div>

